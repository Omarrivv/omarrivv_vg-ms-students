{
  "info": {
    "name": "VG MS Students API Collection",
    "_postman_id": "vg-ms-students-collection",
    "description": "API completa de gestión de estudiantes y matrículas",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Gestión de Estudiantes",
      "item": [
        {
          "name": "Secretarias",
          "item": [
            {
              "name": "Crear Estudiante",
              "request": {
                "method": "POST",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"firstName\": \"Juan\",\n  \"lastName\": \"Pérez\",\n  \"documentType\": \"DNI\",\n  \"documentNumber\": \"12345678\",\n  \"birthDate\": \"2010-05-15\",\n  \"gender\": \"MALE\",\n  \"address\": \"Lima\",\n  \"phone\": \"987654321\",\n  \"parentName\": \"Carlos\",\n  \"parentPhone\": \"987654322\",\n  \"parentEmail\": \"padre@email.com\"\n}",
                  "options": {"raw": {"language": "json"}}
                },
                "url": {"raw": "{{base_url}}/students/secretary/create"}
              }
            },
            {
              "name": "Obtener Estudiantes",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "url": {"raw": "{{base_url}}/students/secretary"}
              }
            },
            {
              "name": "Actualizar Estudiante",
              "request": {
                "method": "PUT",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"firstName\": \"Juan\",\n  \"lastName\": \"Pérez\",\n  \"phone\": \"999888777\",\n  \"address\": \"Nueva dirección\"\n}",
                  "options": {"raw": {"language": "json"}}
                },
                "url": {"raw": "{{base_url}}/students/secretary/update/{{student_id}}"}
              }
            },
            {
              "name": "Estudiantes No Matriculados",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "url": {"raw": "{{base_url}}/students/secretary/unenrolled"}
              }
            },
            {
              "name": "Creación Masiva Estudiantes",
              "request": {
                "method": "POST",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"students\": [\n    {\n      \"firstName\": \"Luis\",\n      \"lastName\": \"Martínez\",\n      \"documentType\": \"DNI\",\n      \"documentNumber\": \"11111111\",\n      \"birthDate\": \"2010-01-15\",\n      \"gender\": \"MALE\"\n    }\n  ]\n}",
                  "options": {"raw": {"language": "json"}}
                },
                "url": {"raw": "{{base_url}}/students/secretary/bulk-create"}
              }
            },
            {
              "name": "Buscar Estudiantes",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "url": {
                  "raw": "{{base_url}}/students/secretary/search?query=Juan",
                  "query": [{"key": "query", "value": "Juan"}]
                }
              }
            },
            {
              "name": "Estudiantes por Grado",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "url": {"raw": "{{base_url}}/students/secretary/by-grade/1ro"}
              }
            },
            {
              "name": "Estudiantes por Estado",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "url": {"raw": "{{base_url}}/students/secretary/by-status/ACTIVE"}
              }
            },
            {
              "name": "Estadísticas Estudiantes",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "url": {"raw": "{{base_url}}/students/secretary/statistics"}
              }
            },
            {
              "name": "Activar Estudiante",
              "request": {
                "method": "PUT",
                "header": [
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "url": {"raw": "{{base_url}}/students/secretary/activate/{{student_id}}"}
              }
            },
            {
              "name": "Desactivar Estudiante",
              "request": {
                "method": "PUT",
                "header": [
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "url": {"raw": "{{base_url}}/students/secretary/deactivate/{{student_id}}"}
              }
            }
          ]
        },
        {
          "name": "Profesores",
          "item": [
            {
              "name": "Mis Estudiantes",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "TEACHER"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "url": {"raw": "{{base_url}}/students/teacher/my-students"}
              }
            }
          ]
        },
        {
          "name": "Auxiliares",
          "item": [
            {
              "name": "Ver Estudiantes",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "AUXILIARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "url": {"raw": "{{base_url}}/students/auxiliary"}
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Gestión de Matrículas",
      "item": [
        {
          "name": "Secretarias",
          "item": [
            {
              "name": "Crear Matrícula",
              "request": {
                "method": "POST",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"studentId\": \"{{student_id}}\",\n  \"classroomId\": \"{{classroom_id}}\",\n  \"enrollmentDate\": \"2024-03-01\",\n  \"enrollmentType\": \"REGULAR\"\n}",
                  "options": {"raw": {"language": "json"}}
                },
                "url": {"raw": "{{base_url}}/enrollments/secretary/create"}
              }
            },
            {
              "name": "Obtener Matrículas",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "url": {"raw": "{{base_url}}/enrollments/secretary"}
              }
            },
            {
              "name": "Actualizar Matrícula",
              "request": {
                "method": "PUT",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"classroomId\": \"new-classroom\",\n  \"enrollmentType\": \"TRANSFER\",\n  \"status\": \"ACTIVE\"\n}",
                  "options": {"raw": {"language": "json"}}
                },
                "url": {"raw": "{{base_url}}/enrollments/secretary/update/{{enrollment_id}}"}
              }
            },
            {
              "name": "Matrículas por Aula",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "url": {"raw": "{{base_url}}/enrollments/secretary/by-classroom/{{classroom_id}}"}
              }
            },
            {
              "name": "Creación Masiva Matrículas",
              "request": {
                "method": "POST",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"enrollments\": [\n    {\n      \"studentId\": \"student-001\",\n      \"classroomId\": \"{{classroom_id}}\",\n      \"enrollmentDate\": \"2024-03-01\",\n      \"enrollmentType\": \"REGULAR\"\n    }\n  ]\n}",
                  "options": {"raw": {"language": "json"}}
                },
                "url": {"raw": "{{base_url}}/enrollments/secretary/bulk-create"}
              }
            },
            {
              "name": "Matrículas por Estado",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "url": {"raw": "{{base_url}}/enrollments/secretary/by-status/ACTIVE"}
              }
            },
            {
              "name": "Estadísticas Matrículas",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "url": {"raw": "{{base_url}}/enrollments/secretary/statistics"}
              }
            },
            {
              "name": "Transferir Estudiante",
              "request": {
                "method": "PUT",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"newClassroomId\": \"new-classroom\",\n  \"reason\": \"Cambio de nivel\"\n}",
                  "options": {"raw": {"language": "json"}}
                },
                "url": {"raw": "{{base_url}}/enrollments/secretary/transfer/{{enrollment_id}}"}
              }
            },
            {
              "name": "Matrículas por Estudiante",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "url": {"raw": "{{base_url}}/enrollments/secretary/by-student/{{student_id}}"}
              }
            },
            {
              "name": "Cancelar Matrícula",
              "request": {
                "method": "PUT",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"reason\": \"Retiro voluntario\"\n}",
                  "options": {"raw": {"language": "json"}}
                },
                "url": {"raw": "{{base_url}}/enrollments/secretary/cancel/{{enrollment_id}}"}
              }
            },
            {
              "name": "Generar QR Matrícula",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "url": {"raw": "{{base_url}}/enrollments/secretary/qr/{{enrollment_id}}"}
              }
            }
          ]
        },
        {
          "name": "Profesores",
          "item": [
            {
              "name": "Mis Matrículas",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "TEACHER"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "url": {"raw": "{{base_url}}/enrollments/teacher/my-enrollments"}
              }
            },
            {
              "name": "Actualizar Observaciones",
              "request": {
                "method": "PUT",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "TEACHER"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"observations\": \"Estudiante destacado\"\n}",
                  "options": {"raw": {"language": "json"}}
                },
                "url": {"raw": "{{base_url}}/enrollments/teacher/observations/{{enrollment_id}}"}
              }
            },
            {
              "name": "Matrículas por Estudiante",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "TEACHER"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "url": {"raw": "{{base_url}}/enrollments/teacher/by-student/{{student_id}}"}
              }
            }
          ]
        },
        {
          "name": "Auxiliares",
          "item": [
            {
              "name": "Matrículas por Aula",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "AUXILIARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "url": {"raw": "{{base_url}}/enrollments/auxiliary/by-classroom/{{classroom_id}}"}
              }
            },
            {
              "name": "Matrículas por Estudiante",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "AUXILIARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "url": {"raw": "{{base_url}}/enrollments/auxiliary/by-student/{{student_id}}"}
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Reportes y Estadísticas",
      "item": [
        {
          "name": "Secretarias",
          "item": [
            {
              "name": "Dashboard Completo",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "url": {"raw": "{{base_url}}/reports/secretary/dashboard"}
              }
            },
            {
              "name": "Resumen Institucional",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "SECRETARY"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "url": {"raw": "{{base_url}}/reports/secretary/overview"}
              }
            }
          ]
        },
        {
          "name": "Profesores",
          "item": [
            {
              "name": "Mis Estadísticas",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "X-User-Id", "value": "{{user_id}}"},
                  {"key": "X-User-Roles", "value": "TEACHER"},
                  {"key": "X-Institution-Id", "value": "{{institution_id}}"}
                ],
                "url": {"raw": "{{base_url}}/reports/teacher/my-stats"}
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Endpoints Públicos",
      "item": [
        {
          "name": "Todos los Estudiantes",
          "request": {
            "method": "GET",
            "header": [],
            "url": {"raw": "{{base_url}}/students"}
          }
        },
        {
          "name": "Estudiante por ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {"raw": "{{base_url}}/students/{{student_id}}"}
          }
        }
      ]
    },
    {
      "name": "Validaciones",
      "item": [
        {
          "name": "Validar Estudiante",
          "request": {
            "method": "GET",
            "header": [],
            "url": {"raw": "{{base_url}}/validate-students/{{student_id}}"}
          }
        },
        {
          "name": "Validar Matrícula",
          "request": {
            "method": "GET",
            "header": [],
            "url": {"raw": "{{base_url}}/validate-enrollments/{{enrollment_id}}"}
          }
        },
        {
          "name": "Validar QR",
          "request": {
            "method": "GET",
            "header": [],
            "url": {"raw": "{{base_url}}/validate-qr/QR123456789"}
          }
        }
      ]
    }
  ],
  "variable": [
    {"key": "base_url", "value": "http://localhost:8102/api/v1"},
    {"key": "user_id", "value": "123e4567-e89b-12d3-a456-426614174000"},
    {"key": "institution_id", "value": "96960392-1e5f-4e66-afc9-4b5bcd771d9f"},
    {"key": "student_id", "value": "student-uuid-example"},
    {"key": "enrollment_id", "value": "enrollment-uuid-example"},
    {"key": "classroom_id", "value": "classroom-uuid-example"}
  ]
}
